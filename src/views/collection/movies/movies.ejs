<!DOCTYPE html>
<html>
<head>
<title>My Movie Collection</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

<style>
body {
    background:#121212;
    font-family:'Poppins', sans-serif;
    color:white;
    margin:0;
    padding:0;
}

/* Section Title */
.section-title {
    font-size:24px;
    color:#00ffdd;
    margin:25px 20px 10px 20px;
    font-weight:600;
}

/* GOOGLE STYLE GRID */
.movies-grid {
    display:grid;
    grid-template-columns:repeat(auto-fill, minmax(150px, 1fr));
    gap:18px;
    padding:20px;
}

/* GOOGLE POSTER CARD */
.movie-card {
    text-align:left;
    cursor:pointer;
    transition:transform .2s ease;
}

.movie-card:hover {
    transform:scale(1.05);
}

/* POSTER IMAGE */
.movie-card img {
    width:100%;
    height:225px;
    object-fit:cover;
    border-radius:12px;
    border:1px solid #2a2a2a;
}

/* TITLE */
.movie-title {
    font-size:14px;
    margin-top:6px;
    color:#eee;
    font-weight:500;
}

/* CATEGORY */
.movie-category {
    font-size:12px;
    color:#888;
}

/* FLOATING ADD BUTTON */
.add-btn{
    position:fixed;
    bottom:30px;
    right:30px;
    background:linear-gradient(45deg,#00ffdd,#ff6ec7);
    border:none;
    border-radius:50%;
    width:60px;
    height:60px;
    font-size:30px;
    color:#fff;
    cursor:pointer;
    box-shadow:0 0 25px rgba(0,255,221,0.5);
    transition:transform .25s ease;
}
.add-btn:hover{
    transform:scale(1.15);
}
.toggle-btn {
    margin-top:8px;
    padding:6px 10px;
    background:#00ffdd;
    border:none;
    border-radius:8px;
    font-size:12px;
    font-weight:600;
    cursor:pointer;
    color:#000;
    transition:0.2s ease;
}

.toggle-btn:hover {
    transform:scale(1.05);
    background:#ff6ec7;
    color:white;
}

</style>
</head>

<body>

<!-- WATCHED SECTION -->
<h2 class="section-title">ðŸŽ¬ Watched Movies</h2>
<div class="movies-grid">
    <% watched.forEach(movie => { %>
      <div class="movie-card">
        <img src="<%= movie.poster %>" alt="Poster">
        <div class="movie-title"><%= movie.name %></div>
        <div class="movie-category"><%= movie.category %></div>
    
        <form action="/collections/movies/toggle/<%= movie._id %>" method="POST">
            <button class="toggle-btn">
                <%= movie.status === "watched" ? "Mark as Not Watched" : "Mark as Watched" %>
            </button>
        </form>
        <form action="/collections/movies/delete/<%= movie._id %>" method="POST">
          <button class="delete-btn">Delete</button>
      </form>
    </div>
    
    <% }) %>
</div>

<!-- NOT WATCHED SECTION -->
<h2 class="section-title">ðŸ“Œ Not Watched</h2>
<div class="movies-grid">
    <% notWatched.forEach(movie => { %>
        <div class="movie-card">
            <img src="<%= movie.poster %>" alt="Poster">
            <div class="movie-title"><%= movie.name %></div>
            <div class="movie-category"><%= movie.category %></div>

            <form action="/collections/movies/toggle/<%= movie._id %>" method="POST">
                <button class="toggle-btn">
                    <%= movie.status === "watched" ? "Mark as Not Watched" : "Mark as Watched" %>
                </button>
            </form>
            <form action="/collections/movies/delete/<%= movie._id %>" method="POST">
              <button class="delete-btn">Delete</button>
          </form>
        </div>
    <% }) %>
</div>


<!-- ADD MOVIE BUTTON -->
<button class="add-btn" onclick="window.location.href='/collections/add-movies'">+</button>

</body>
</html>
